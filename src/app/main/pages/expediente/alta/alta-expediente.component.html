<div class="content-wrapper container-xxl p-0">
    <div class="content-body">
      <!-- content-header component -->
      <app-content-header [contentHeader]="contentHeader"></app-content-header>
  
      <!-- Basic Alerts start -->
      <section id="home-page">
        <div class="row">
          <div class="col-12">
            <div class="card">
              <div class="card-header">
                <h4 class="card-title">SELECCIONE UN TIPO DE TRAMITE</h4>
              </div>
              <div class="card-body pb-1">
                <mat-form-field appearance="outline" style="width: 100%;">
                  <mat-label>Seleccione un tramite:</mat-label>
                  <mat-select #TIPOTRAMITE="ngModel" [(ngModel)]="dataExpediente.tipoTramite" (selectionChange)="getDocumentosAportar()" required>
                      <mat-option value="">Seleccione un trámite ...</mat-option>
                      <mat-option *ngFor="let tramite of tiposTramite" [value]="tramite.tipoTramite">
                          {{ tramite.descripcion }}
                      </mat-option>
                  </mat-select>
                  <mat-error *ngIf="TIPOTRAMITE.errors?.required">Requerido</mat-error>
              </mat-form-field>
              </div>
            </div>
          </div>
        </div>
        <section class="modern-horizontal-wizard" [hidden]="dataExpediente.tipoTramite == null" >
          <div id="stepper" class="bs-stepper wizard-modern modern-wizard-example">
            <div class="bs-stepper-header">
              <div class="step" data-target="#documentos-aportar">
                <button class="step-trigger">
                  <span class="bs-stepper-box">1</span>
                  <span class="bs-stepper-label">
                    <span class="bs-stepper-title">Documentos a aportar</span>
                    <span class="bs-stepper-subtitle">Seleccione los documentos a aportar</span>
                  </span>
                </button>
              </div>
              <div class="line"><i data-feather="chevron-right" class="font-medium-2"></i></div>
              <div class="step" data-target="#promoventes-representantes">
                <button class="step-trigger">
                  <span class="bs-stepper-box">2</span>
                  <span class="bs-stepper-label">
                    <span class="bs-stepper-title">Promoventes y Representantes</span>
                    <span class="bs-stepper-subtitle">Agrega los promoventes y/o representantes</span>
                  </span>
                </button>
              </div>
              <div class="line"><i data-feather="chevron-right" class="font-medium-2"></i></div>
              <div class="step" data-target="#datos-inmuebles">
                <button class="step-trigger">
                  <span class="bs-stepper-box">3</span>
                  <span class="bs-stepper-label">
                    <span class="bs-stepper-title">Datos Inmuebles</span>
                    <span class="bs-stepper-subtitle">Agrega los datos del inmueble</span>
                  </span>
                </button>
              </div>
              <div class="line"><i data-feather="chevron-right" class="font-medium-2"></i></div>
              <div class="step" data-target="#datos-direccion">
                <button class="step-trigger">
                  <span class="bs-stepper-box">4</span>
                  <span class="bs-stepper-label">
                    <span class="bs-stepper-title">Dirección</span>
                    <span class="bs-stepper-subtitle">Agrega una dirección</span>
                  </span>
                </button>
              </div>
              <div class="line"><i data-feather="chevron-right" class="font-medium-2"></i></div>
              <div class="step" data-target="#datos-generales">
                <button class="step-trigger">
                  <span class="bs-stepper-box">5</span>
                  <span class="bs-stepper-label">
                    <span class="bs-stepper-title">Datos Generales</span>
                    <span class="bs-stepper-subtitle">Escribe las observaciones</span>
                  </span>
                </button>
              </div>
            </div>
            <div class="bs-stepper-content">
              <form (ngSubmit)="(HWForm.form.valid)" #HWForm="ngForm">
                <div id="documentos-aportar" class="content">
                  <div class="content-header">
                    <h5 class="mb-0">Documentos a aportar</h5>
                    <small class="text-muted">Seleccione los documentos a aportar.</small>
                  </div>
                  <div class="table-responsive">
                    <table class="table">
                      <thead class="thead-dark">
                        <tr>
                          <th>Conjunto Documental</th>
                          <th>Documento</th>
                          <th>Obligatorio</th>
                          <th>Entregado</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let documento of dataDocumentosAportar; let i = index;">
                        <td>{{ documento.conjuntoDocumental }}</td>
                        <td>{{ documento.documento }} </td>
                        <td>{{ documento.obligatorio ? 'SI' : 'NO' }}</td>
                        <td>
                          <div class="custom-control custom-checkbox">
                            <input type="checkbox" class="custom-control-input" id="{{ 'entregado' + i }}" (change)="documento.entregado = !documento.entregado;" />
                            <label class="custom-control-label" for="{{ 'entregado' + i }}">Entregado</label>
                          </div>
                        </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="d-flex justify-content-between">
                    <button
                      (click)="horizontalWizardStepperPrevious()"
                      class="btn btn-outline-secondary btn-prev"
                      disabled
                      rippleEffect
                    >
                      <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                      <span class="align-middle d-sm-inline-block d-none">Anterior</span>
                    </button>
                    <button
                      (click)="horizontalWizardStepperNextNoValidation()"
                      type="submit"
                      class="btn btn-primary btn-next"
                      rippleEffect
                    >
                      <span class="align-middle d-sm-inline-block d-none">Siguiente</span>
                      <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                    </button>
                  </div>
                </div>
                <div id="promoventes-representantes" class="content">
                  <div class="content-header">
                    <h5 class="mb-0">Promoventes y Representantes</h5>
                    <small class="text-muted">Captura los promoventes y representantes</small>
                  </div>
                  <mat-tab-group>
                    <mat-tab label="Promoventes">
                        <div class="viewer-body">
                            <div class="row">
                                <div class="col-md-2 d-flex p-2 align-items-center">
                                    <button mat-stroked-button color="primary" aria-label="Buscar" (click)="openDialogSearchPromovente('promovente')">
                                        Buscar promovente <mat-icon style="display: inherit; width: 15px;">search</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10 d-flex p-2 align-items-center">
                                    <mat-form-field appearance="outline" >
                                        <mat-label>Tipo Persona:</mat-label>
                                        <mat-select [(ngModel)]="tipoPersonaPromovente" name="personaPromovente" (selectionChange)="clearFormPromovente()">
                                            <mat-option *ngFor="let tipo of tiposPersona" [value]="tipo.descripcion == 'Persona Física' ? 'F' : 'M'">
                                                {{ tipo.descripcion }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <ng-container *ngIf="tipoPersonaPromovente == 'F'">
                                <form [formGroup]="promoventeFisica">
                                    <input formControlName="tipo" type="hidden" value="{{ tipoPersonaPromovente }}">
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-12">
                                            <mat-label>Nombre: *</mat-label>
                                            <input matInput formControlName="nombre" maxlength="50" placeholder="Ingrese el nombre">
                                            <mat-error *ngIf="promoventeFisica.controls.nombre.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Apellido Paterno: *</mat-label>
                                            <input matInput formControlName="apellidoPaterno" maxlength="50" placeholder="Ingrese el apellido paterno">
                                            <mat-error *ngIf="promoventeFisica.controls.apellidoPaterno.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Apellido Materno:</mat-label>
                                            <input matInput formControlName="apellidoMaterno" maxlength="50" placeholder="Ingrese el apellido materno">
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>RFC: *</mat-label>
                                            <input matInput formControlName="rfc" pattern="^([A-ZÑ&]{4})?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$" maxlength="13" placeholder="Ingrese el RFC">
                                            <mat-error *ngIf="promoventeFisica.controls.rfc.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="promoventeFisica.controls.rfc.errors?.pattern">El campo RFC debe contener 4 letras mayúsculas, 6 números y 3 alfanuméricos de la homoclave.</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>CURP: *</mat-label>
                                            <input matInput formControlName="curp" pattern="^([A-Z][AEIOUX][A-Z]{2}\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\d])(\d)$" maxlength="18" placeholder="Ingrese el CURP">
                                            <mat-error *ngIf="promoventeFisica.controls.curp.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="promoventeFisica.controls.curp.errors?.pattern">CURP no valido</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Clave INE:</mat-label>
                                            <input matInput formControlName="claveIne" maxlength="50" placeholder="Ingrese el INE">
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-6">
                                            <mat-label>Otro Documento:</mat-label>
                                            <mat-select formControlName="idDocIdentif">
                                                <mat-option value="">Seleccione ...</mat-option>
                                                <mat-option *ngFor="let documento of tiposDocIdentif" [value]="documento.idDocIdentif">
                                                    {{ documento.descripcion }}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Número Documento</mat-label>
                                            <input matInput formControlName="otros" maxlength="50" placeholder="Ingrese el número de documento">
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Celular: *</mat-label>
                                            <input matInput formControlName="celular" maxlength="10" placeholder="Ingrese el número de celular">
                                            <mat-error *ngIf="promoventeFisica.controls.celular.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="promoventeFisica.controls.celular.errors?.minlength">El número celular debe de contener 10 digitos</mat-error>
                                            <mat-error *ngIf="promoventeFisica.controls.celular.errors?.maxlength">El número celular debe de contener 10 digitos</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>E-mail: *</mat-label>
                                            <input matInput formControlName="email" maxlength="50" placeholder="Ingrese el email">
                                            <mat-error *ngIf="promoventeFisica.controls.email.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="promoventeFisica.controls.email.errors?.email">La estructura del correo es errónea</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                        </div>
                                        <div class="col-md-2">
                                            <button mat-stroked-button *ngIf="isEdicionPromovente == false" color="primary" aria-label="Agregar" [disabled]="promoventeFisica.invalid" (click)="addPromoventeFisica()">
                                                Agregar<mat-icon style="display: inherit; width: 15px;">add</mat-icon>
                                            </button>
                                            <button mat-stroked-button *ngIf="isEdicionPromovente == true" color="primary" aria-label="Guardar" [disabled]="promoventeFisica.invalid" (click)="savePromoventeFisica()">
                                                Guardar<mat-icon style="display: inherit; width: 15px;">save</mat-icon>
                                            </button>
                                        </div>
                                        <div class="col-md-2">
                                            <button mat-stroked-button color="warn" aria-label="Limpiar" (click)="clearFormPromovente()">
                                                Limpiar
                                            </button>
                                        </div>
                                        <div class="col-md-4">
                                        </div>
                                    </div>
                                </form>
                            </ng-container>
                            <ng-container *ngIf="tipoPersonaPromovente == 'M'">
                                <form [formGroup]="promoventeMoral">
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-12">
                                            <mat-label>Nombre: *</mat-label>
                                            <input matInput formControlName="nombre" maxlength="50" placeholder="Ingrese el nombre">
                                            <mat-error *ngIf="promoventeMoral.controls.nombre.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-6">
                                            <mat-label>RFC: *</mat-label>
                                            <input matInput formControlName="rfc" pattern="^([A-ZÑ&]{3})?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$" maxlength="12" placeholder="Ingrese el RFC">
                                            <mat-error *ngIf="promoventeMoral.controls.rfc.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="promoventeMoral.controls.rfc.errors?.pattern">El campo RFC debe contener 3 letras mayúsculas, 6 números y 3 alfanuméricos de la homoclave.</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" class="col-6">
                                            <mat-label>Actividad Principal: *</mat-label>
                                            <input matInput formControlName="activprincip" maxlength="50" placeholder="Ingrese la actividad principal">
                                            <mat-error *ngIf="promoventeMoral.controls.activprincip.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                </form>
                                <div class="row">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-2">
                                        <button mat-stroked-button *ngIf="isEdicionPromovente == false" color="primary" aria-label="Agregar" [disabled]="promoventeMoral.invalid" (click)="addPromoventeMoral()">
                                            Agregar<mat-icon style="display: inherit; width: 15px;">add</mat-icon>
                                        </button>
                                        <button mat-stroked-button *ngIf="isEdicionPromovente == true" color="primary" aria-label="Guardar" [disabled]="promoventeMoral.invalid" (click)="savePromoventeMoral()">
                                            Guardar<mat-icon style="display: inherit; width: 15px;">save</mat-icon>
                                        </button>
                                    </div>
                                    <div class="col-md-2">
                                        <button mat-stroked-button color="warn" aria-label="Limpiar" (click)="clearFormPromovente()">
                                            Limpiar
                                        </button>
                                    </div>
                                    <div class="col-md-4">
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </mat-tab>
                    <mat-tab label="Representante" [disabled]="dataPromoventes.length == 0">
                        <div class="viewer-body">
                            <div class="row">
                                <div class="col-md-2 d-flex p-2 align-items-center">
                                    <button mat-stroked-button color="primary" aria-label="Buscar" (click)="openDialogSearchPromovente('representante')">
                                        Buscar representante <mat-icon style="display: inherit; width: 15px;">search</mat-icon>
                                    </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-10 d-flex p-2 align-items-center">
                                    <mat-form-field appearance="outline" >
                                        <mat-label>Tipo Persona:</mat-label>
                                        <mat-select [(ngModel)]="tipoPersonaRepresentante" name="personaRepresentante" (selectionChange)="clearFormPromovente()">
                                            <mat-option *ngFor="let tipo of tiposPersona" [value]="tipo.descripcion == 'Persona Física' ? 'F' : 'M'">
                                                {{ tipo.descripcion }}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <ng-container *ngIf="tipoPersonaRepresentante == 'F'">
                                <form [formGroup]="representanteFisica">
                                    <input formControlName="tipo" type="hidden" value="{{ tipoPersonaRepresentante }}">
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-12">
                                            <mat-label>Nombre: *</mat-label>
                                            <input matInput formControlName="nombre" maxlength="50" placeholder="Ingrese el nombre">
                                            <mat-error *ngIf="representanteFisica.controls.nombre.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Apellido Paterno: *</mat-label>
                                            <input matInput formControlName="apellidoPaterno" maxlength="50" placeholder="Ingrese el apellido paterno">
                                            <mat-error *ngIf="representanteFisica.controls.apellidoPaterno.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Apellido Materno:</mat-label>
                                            <input matInput formControlName="apellidoMaterno" maxlength="50" placeholder="Ingrese el apellido materno">
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>RFC: *</mat-label>
                                            <input matInput formControlName="rfc" pattern="^([A-ZÑ&]{4})?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$" maxlength="13" placeholder="Ingrese el RFC">
                                            <mat-error *ngIf="representanteFisica.controls.rfc.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="representanteFisica.controls.rfc.errors?.pattern">El campo RFC debe contener 4 letras mayúsculas, 6 números y 3 alfanuméricos de la homoclave.</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>CURP: *</mat-label>
                                            <input matInput formControlName="curp" pattern="^([A-Z][AEIOUX][A-Z]{2}\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])[HM](?:AS|B[CS]|C[CLMSH]|D[FG]|G[TR]|HG|JC|M[CNS]|N[ETL]|OC|PL|Q[TR]|S[PLR]|T[CSL]|VZ|YN|ZS)[B-DF-HJ-NP-TV-Z]{3}[A-Z\d])(\d)$" maxlength="18" placeholder="Ingrese el CURP">
                                            <mat-error *ngIf="representanteFisica.controls.curp.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="representanteFisica.controls.curp.errors?.pattern">CURP no valido</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Clave INE:</mat-label>
                                            <input matInput formControlName="claveIne" maxlength="50" placeholder="Ingrese el INE">
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-6">
                                            <mat-label>Otro Documento:</mat-label>
                                            <mat-select formControlName="idDocIdentif">
                                                <mat-option value="">Seleccione ...</mat-option>
                                                <mat-option *ngFor="let documento of tiposDocIdentif" [value]="documento.idDocIdentif">
                                                    {{ documento.descripcion }}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Número Documento</mat-label>
                                            <input matInput formControlName="otros" maxlength="50" placeholder="Ingrese el número de documento">
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>Celular: *</mat-label>
                                            <input matInput formControlName="celular" maxlength="10" placeholder="Ingrese el número de celular">
                                            <mat-error *ngIf="representanteFisica.controls.celular.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="representanteFisica.controls.celular.errors?.minlength">El número celular debe de contener 10 digitos</mat-error>
                                            <mat-error *ngIf="representanteFisica.controls.celular.errors?.maxlength">El número celular debe de contener 10 digitos</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline"  class="col-6">
                                            <mat-label>E-mail: *</mat-label>
                                            <input matInput formControlName="email" maxlength="50" placeholder="Ingrese el email">
                                            <mat-error *ngIf="representanteFisica.controls.email.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="representanteFisica.controls.email.errors?.email">La estructura del correo es errónea</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                        </div>
                                        <div class="col-md-2">
                                            <button mat-stroked-button *ngIf="isEdicionRepresentante == false" color="primary" aria-label="Agregar" [disabled]="representanteFisica.invalid" (click)="addRepresentanteFisica()">
                                                Agregar<mat-icon style="display: inherit; width: 15px;">add</mat-icon>
                                            </button>
                                            <button mat-stroked-button *ngIf="isEdicionRepresentante == true" color="primary" aria-label="Guardar" [disabled]="representanteFisica.invalid" (click)="saveRepresentanteFisica()">
                                                Guardar<mat-icon style="display: inherit; width: 15px;">save</mat-icon>
                                            </button>
                                        </div>
                                        <div class="col-md-2">
                                            <button mat-stroked-button color="warn" aria-label="Limpiar" (click)="clearFormRepresentante()">
                                                Limpiar
                                            </button>
                                        </div>
                                        <div class="col-md-4">
                                        </div>
                                    </div>
                                </form>
                            </ng-container>
                            <ng-container *ngIf="tipoPersonaRepresentante == 'M'">
                                <form [formGroup]="representanteMoral">
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-10 offset-1">
                                            <mat-label>Nombre: *</mat-label>
                                            <input matInput formControlName="nombre" maxlength="50" placeholder="Ingrese el nombre">
                                            <mat-error *ngIf="representanteMoral.controls.nombre.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="row">
                                        <mat-form-field appearance="outline" class="col-5 offset-1">
                                            <mat-label>RFC: *</mat-label>
                                            <input matInput formControlName="rfc" pattern="^([A-ZÑ&]{3})?(?:- ?)?(\d{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[12]\d|3[01])) ?(?:- ?)?([A-Z\d]{2})([A\d])$" maxlength="12" placeholder="Ingrese el RFC">
                                            <mat-error *ngIf="representanteMoral.controls.rfc.errors?.required">Requerido</mat-error>
                                            <mat-error *ngIf="representanteMoral.controls.rfc.errors?.pattern">El campo RFC debe contener 3 letras mayúsculas, 6 números y 3 alfanuméricos de la homoclave.</mat-error>
                                        </mat-form-field>
                                        <mat-form-field appearance="outline" class="col-5">
                                            <mat-label>Actividad Principal: *</mat-label>
                                            <input matInput formControlName="activprincip" maxlength="50" placeholder="Ingrese la actividad principal">
                                            <mat-error *ngIf="representanteMoral.controls.activprincip.errors?.required">Requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                </form>
                                <div class="row">
                                    <div class="col-md-4">
                                    </div>
                                    <div class="col-md-2">
                                        <button mat-stroked-button *ngIf="isEdicionRepresentante == false" color="primary" aria-label="Agregar" [disabled]="representanteMoral.invalid" (click)="addRepresentanteMoral()">
                                            Agregar<mat-icon style="display: inherit; width: 15px;">add</mat-icon>
                                        </button>
                                        <button mat-stroked-button *ngIf="isEdicionRepresentante == true" color="primary" aria-label="Guardar" [disabled]="representanteMoral.invalid" (click)="saveRepresentanteMoral()">
                                            Guardar<mat-icon style="display: inherit; width: 15px;">save</mat-icon>
                                        </button>
                                    </div>
                                    <div class="col-md-2">
                                        <button mat-stroked-button color="warn" aria-label="Limpiar" (click)="clearFormPromovente()">
                                            Limpiar
                                        </button>
                                    </div>
                                    <div class="col-md-4">
                                    </div>
                                </div>
                            </ng-container>
                        </div>
                    </mat-tab>
                </mat-tab-group>
                <div class="row" *ngIf="dataPromoventes.length > 0">
                    <div class="col-12">
                        <div class="card shadow-none bg-transparent">
                            <div class="card-body">
                                <h4 class="card-title">PROMOVENTES</h4>
                                <div class="table-responsive">
                                    <table class="table">
                                      <thead class="thead-dark">
                                        <tr>
                                          <th>Tipo Persona</th>
                                          <th>Datos Personales </th>
                                          <th>Datos Identificativos</th>
                                          <th>Datos de Contacto </th>
                                          <th>Datos de Notificación </th>
                                          <th>Acciones</th>
                                        </tr>
                                      </thead>
                                      <tbody>
                                        <tr *ngFor="let promovente of dataPromoventes; let i = index;">
                                        <td>{{ promovente.tipo }}</td>
                                        <td>{{ promovente.apellidoPaterno }} {{ promovente.apellidoMaterno }} {{ promovente.nombre }} </td>
                                        <td>
                                            {{ promovente.rfc }}
                                            <br>
                                            {{ promovente.curp }}
                                            <br>
                                            {{ promovente.claveIne }}
                                            <br>
                                            {{ promovente.otros }}
                                        </td>
                                        <td>
                                            {{ promovente.celular }}
                                            <br>
                                            {{ promovente.email }}
                                        </td>
                                        <td>
                                            <mat-checkbox [(ngModel)]="promovente.notificacion" [disabled]="promovente.notificacion" [ngModelOptions]="{standalone: true}" (change)="setDatosNotificacionPromovente(i)"></mat-checkbox>
                                        </td>
                                        <td>
                                            <button type="button" mat-icon-button color="primary" aria-label="Editar" matTooltip="Editar" (click)="editPromovente(i)">
                                                <mat-icon>edit</mat-icon>
                                            </button>
                                            <button type="button" mat-icon-button color="primary" aria-label="Eliminar" matTooltip="Eliminar" (click)="deletePromovente(i)">
                                                <mat-icon>delete</mat-icon>
                                            </button>
                                        </td>
                                        </tr>
                                      </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row" *ngIf="dataRepresentantes.length > 0">
                    <div class="col-12">
                        <div class="card shadow-none bg-transparent">
                            <div class="card-body">
                                <h4 class="card-title">REPRESENTANTES</h4>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead class="thead-dark">
                                          <tr>
                                            <th>Tipo Persona</th>
                                            <th>Datos Personales </th>
                                            <th>Datos Identificativos</th>
                                            <th>Datos de Contacto </th>
                                            <th>Datos de Notificación </th>
                                            <th>Acciones</th>
                                          </tr>
                                        </thead>
                                        <tbody>
                                          <tr *ngFor="let representante of dataRepresentantes; let i = index;">
                                          <td>{{ representante.tipo }}</td>
                                          <td>{{ representante.apellidoPaterno }} {{ representante.apellidoMaterno }} {{ representante.nombre }} </td>
                                          <td>
                                              {{ representante.rfc }}
                                              <br>
                                              {{ representante.curp }}
                                              <br>
                                              {{ representante.claveIne }}
                                              <br>
                                              {{ representante.otros }}
                                          </td>
                                          <td>
                                              {{ representante.celular }}
                                              <br>
                                              {{ representante.email }}
                                          </td>
                                          <td>
                                              <mat-checkbox [(ngModel)]="representante.notificacion" [disabled]="representante.notificacion" [ngModelOptions]="{standalone: true}" (change)="setDatosNotificacionRepresentante(i)"></mat-checkbox>
                                          </td>
                                          <td>
                                              <button type="button" mat-icon-button color="primary" aria-label="Editar" matTooltip="Editar" (click)="editRepresentante(i)">
                                                  <mat-icon>edit</mat-icon>
                                              </button>
                                              <button type="button" mat-icon-button color="primary" aria-label="Eliminar" matTooltip="Eliminar" (click)="deleteRepresentante(i)">
                                                  <mat-icon>delete</mat-icon>
                                              </button>
                                          </td>
                                          </tr>
                                        </tbody>
                                      </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-between">
                    <button
                      (click)="horizontalWizardStepperPrevious()"
                      class="btn btn-outline-secondary btn-prev"
                      rippleEffect
                    >
                      <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                      <span class="align-middle d-sm-inline-block d-none">Anterior</span>
                    </button>
                    <button
                      (click)="horizontalWizardStepperNextNoValidation()"
                      type="submit"
                      class="btn btn-primary btn-next"
                      rippleEffect
                    >
                      <span class="align-middle d-sm-inline-block d-none">Siguiente</span>
                      <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                    </button>
                </div>
                </div>
                <div id="datos-inmuebles" class="content">
                    <div class="content-header">
                        <h5 class="mb-0"> DATOS INMUEBLE</h5>
                        <small class="text-muted">Captura los datos del inmueble</small>
                    </div>
                    <form [formGroup]="cuentaCatastral">
                        <div class="row">
                            <mat-form-field class="col-2" appearance="outline">
                                <mat-label>Región: *</mat-label>
                                <input matInput #region formControlName="region" minlength="3" maxlength="3">
                                <mat-error *ngIf="cuentaCatastral.controls.region.errors?.required">Requerido</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.region.errors?.minlength">Tiene que tener 3 alfanumericos</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.region.errors?.maxlength">Tiene que tener 3 alfanumericos</mat-error>
                            </mat-form-field>
                            <mat-form-field class="col-2" appearance="outline">
                                <mat-label>Manzana: *</mat-label>
                                <input matInput #manzana formControlName="manzana" minlength="3" maxlength="3">
                                <mat-error *ngIf="cuentaCatastral.controls.manzana.errors?.required">Requerido</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.manzana.errors?.minlength">Tiene que tener 3 alfanumericos</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.manzana.errors?.maxlength">Tiene que tener 3 alfanumericos</mat-error>
                            </mat-form-field>
                            <mat-form-field class="col-2" appearance="outline">
                                <mat-label>Lote: *</mat-label>
                                <input matInput #lote formControlName="lote" minlength="2" maxlength="2">
                                <mat-error *ngIf="cuentaCatastral.controls.lote.errors?.required">Requerido</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.lote.errors?.minlength">Tiene que tener 2 alfanumericos</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.lote.errors?.maxlength">Tiene que tener 2 alfanumericos</mat-error>
                            </mat-form-field>
                            <mat-form-field class="col-2" appearance="outline">
                                <mat-label>Unidad Privativa: *</mat-label>
                                <input matInput #unidad formControlName="unidadPrivativa" minlength="3" maxlength="3">
                                <mat-error *ngIf="cuentaCatastral.controls.unidadPrivativa.errors?.required">Requerido</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.unidadPrivativa.errors?.minlength">Tiene que tener 3 alfanumericos</mat-error>
                                <mat-error *ngIf="cuentaCatastral.controls.unidadPrivativa.errors?.maxlength">Tiene que tener 3 alfanumericos</mat-error>
                            </mat-form-field>
                            <div class="col-md-2">
                            </div>
                            <div class="col-md-2">
                                <button class="btn btn-outline-primary" type="button" [disabled]="cuentaCatastral.invalid || dataCuentasCatastrales.length > 0 || loadingDataCuentaCatastral" rippleEffect (click)="addCuentaCatastral()">
                                    <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="loadingDataCuentaCatastral"></span>
                                    Agregar <span [data-feather]="'plus'" [class]="'mr-25'"></span>
                                </button>
                            </div>
                        </div>
                    </form>
                    <div class="row" *ngIf="dataCuentasCatastrales.length > 0">
                        <div class="col-12">
                            <div class="card shadow-none bg-transparent">
                                <div class="card-body">
                                    <h4 class="card-title">CUENTAS CATASTRALES</h4>
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead class="thead-dark">
                                              <tr>
                                                <th>Cuenta Catastral</th>
                                                <th>Dirección </th>
                                                <th>Acciones</th>
                                              </tr>
                                            </thead>
                                            <tbody>
                                              <tr *ngFor="let cuenta of dataCuentasCatastrales; let i = index;">
                                              <td>{{ cuenta.region }}-{{ cuenta.manzana }}-{{ cuenta.lote }}-{{ cuenta.unidadPrivativa }}</td>
                                              <td>Calle {{ cuenta.direccion.via.via }} {{cuenta.direccion.numeroExterior}}, Colonia {{ cuenta.direccion.asentamiento.d_asenta}}, Alcaldía {{ cuenta.direccion.delegacion.nombre }}, C.P. {{ cuenta.direccion.codigopostal }}, {{ cuenta.direccion.estado.d_estado }} </td>
                                              <td>
                                                <button type="button" mat-icon-button color="primary" aria-label="Eliminar" matTooltip="Eliminar" (click)="deleteCuentaCatastral(i)">
                                                    <mat-icon>delete</mat-icon>
                                                </button>
                                              </td>
                                              </tr>
                                            </tbody>
                                          </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <button
                          (click)="horizontalWizardStepperPrevious()"
                          class="btn btn-outline-secondary btn-prev"
                          rippleEffect
                        >
                          <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                          <span class="align-middle d-sm-inline-block d-none">Anterior</span>
                        </button>
                        <button
                          (click)="horizontalWizardStepperNextNoValidation()"
                          type="submit"
                          class="btn btn-primary btn-next"
                          rippleEffect
                        >
                          <span class="align-middle d-sm-inline-block d-none">Siguiente</span>
                          <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                        </button>
                    </div>
                </div>
                <div id="datos-direccion" class="content">
                    <div class="content-header">
                        <h5 class="mb-0">DATOS DIRECCIÓN</h5>
                        <small class="text-muted">Captura la dirección</small>
                    </div>
                    <div class="row">
                        <div class="col-md-5">
                        </div>
                        <div class="col-md-2">
                            <button mat-stroked-button color="primary" aria-label="Agregar" [disabled]="dataDomicilioNotificacion.length > 0" (click)="openDialogAddDomicilioNotificacion()">
                                Agregar<mat-icon style="display: inherit; width: 15px;">add</mat-icon>
                            </button>
                        </div>
                        <div class="col-md-5">
                        </div>
                    </div>

                    <ngb-alert [type]="'primary'" [dismissible]="false" *ngIf="dataDomicilioNotificacion.length == 0; else tableDomicilioNotificacion">
                        <div class="alert-body"><strong> No se ha especificado ninguna dirección!</strong></div>
                    </ngb-alert>
                    <div class="row">
                        <div class="col">
                            <ng-template #tableDomicilioNotificacion>
                                <br>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead class="thead-dark">
                                            <tr>
                                                <th>Dirección</th>
                                                <th>Acciones</th>
                                              </tr>
                                        </thead>
                                        <tbody>
                                            <tr *ngFor="let domicilio of dataDomicilioNotificacion; let i = index;">
                                                <td>Calle {{ domicilio.VIA }} {{ domicilio.NUMEROEXTERIOR }}, COLONIA {{ domicilio.COLONIA }}, ALCALDÍA {{ domicilio.DELEGACION }}</td>
                                                <td>
                                                    <button type="button" mat-icon-button color="primary" aria-label="Editar" matTooltip="Editar" (click)="openDialogAddDomicilioNotificacion(i, domicilio)">
                                                        <mat-icon>edit</mat-icon>
                                                    </button>
                                                    <button type="button" mat-icon-button color="primary" aria-label="Eliminar" matTooltip="Eliminar" (click)="deleteDomicilionNotificacion(i)">
                                                        <mat-icon>delete</mat-icon>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table> 
                                </div> 
                            </ng-template>                    
                        </div>
                    </div>
                    <div class="d-flex justify-content-between">
                        <button
                          (click)="horizontalWizardStepperPrevious()"
                          class="btn btn-outline-secondary btn-prev"
                          rippleEffect
                        >
                          <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                          <span class="align-middle d-sm-inline-block d-none">Anterior</span>
                        </button>
                        <button
                          (click)="horizontalWizardStepperNextNoValidation()"
                          type="submit"
                          class="btn btn-primary btn-next"
                          rippleEffect
                        >
                          <span class="align-middle d-sm-inline-block d-none">Siguiente</span>
                          <i data-feather="arrow-right" class="align-middle ml-sm-25 ml-0"></i>
                        </button>
                      </div>
                </div>
                <div id="datos-generales" class="content">
                    <div class="content-header">
                        <h5 class="mb-0">DATOS GENERALES</h5>
                        <small class="text-muted">Captura los datos generales</small>
                    </div>
                    <label for="observaciones">Observaciones</label>
                    <fieldset class="form-group">
                        <textarea class="form-control" id="observaciones" rows="3" placeholder="Observaciones"  [ngModelOptions]="{standalone: true}" [(ngModel)]="dataExpediente.observaciones"></textarea>
                    </fieldset>
                    <div class="d-flex justify-content-between">
                        <button
                          type="button"
                          (click)="horizontalWizardStepperPrevious()"
                          class="btn btn-primary btn-prev"
                          rippleEffect
                        >
                          <i data-feather="arrow-left" class="align-middle mr-sm-25 mr-0"></i>
                          <span class="align-middle d-sm-inline-block d-none">Anterior</span>
                        </button>
                        <button class="btn btn-outline-primary" type="button" [disabled]="dataPromoventes.length == 0 || dataCuentasCatastrales.length == 0 || dataDomicilioNotificacion.length == 0 || loadingCuentasCatastrales" rippleEffect (click)="initiateExpediente()">
                            <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="loadingCuentasCatastrales"></span>
                            Iniciar Expediente <span [data-feather]="'send'" [class]="'mr-25'"></span>
                        </button>
                      </div>
                </div>
              </form>
            </div>
          </div>
        </section>
      </section>
      <!-- Basic Alerts end -->
    </div>
</div>